<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="css/task.css">
    <script src="js/jquery-2.0.3.js">
    </script>
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css"/>
    <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
    <link rel="stylesheet" href="/resources/demos/style.css"/>
    <style>
        #sortable {
            list-style-type: none;
            margin: 0;
            padding: 0;
            width: 60%;
        }

        #sortable li {
            margin: 0 5px 5px 5px;
            padding: 5px;
            font-size: 1.2em;
            height: 1.5em;
        }

        html > body #sortable li {
            height: 1.5em;
            line-height: 1.2em;
        }

        .ui-state-highlight {
            height: 1.5em;
            line-height: 1.2em;
        }
    </style>
    <script type='text/javascript' src='dwr/engine.js'></script>
    <script type='text/javascript' src='dwr/util.js'></script>
    <script type='text/javascript' src='dwr/interface/Sensitivity.js'></script>
    <script>
        $(function () {
            $("#sortable").sortable({
                placeholder: "ui-state-highlight"
            });
            $("#sortable").disableSelection();
        });
    </script>
    <script>
        $(document).ready(function () {
            $('.HasHiddenInput').hover(
                    function () {
                        var taskkey = getTaskKey(this.id);
                        //alert(taskkey);
                        //alert($(this).attr('id'));
                        $(this).find('#taskinput_' + taskkey).stop(true, true).slideDown();
                    },
                    function () {
                        var taskkey = getTaskKey(this.id);
                        //alert('#taskinput1_' + taskkey);
                        $(this).find('#taskinput_' + taskkey).stop(true, true).slideUp();
                    }
            );

        });

    </script>
</head>
<body>
<div id="page">

    <div id="main">
        <table>
            <tr>
                <td>Scenario</td>
                <td><select id="pdlgd">
                    <option value="null">&lt;choose Scenario&gt;</option>
                    <option value="PD">PD</option>
                    <option value="LGD">LGD</option>
                </select></td>
                <td align="right">Description</td>
                <td><input
                        name="actualcapital" type="text" size="30" value="1% Increase in Interest Rate"/></td>
            </tr>
            <tr>
                <td><input
                        id="sequence" type="hidden" size="14" value="null"/></td>
                <td></td>
                <td align="right">Confidence Interval</td>
                <td><input
                        name="actualcapital" type="text" size="30" value="0.999"/></td>
            </tr>
        </table>
        <table>
            <tr>
                <td>PD/LGD</td>
                <td>Percent</td>
                <td>Dimension</td>
                <td>Filter</td>
            </tr>
            <tr>
                <td><select id="pdlgd">
                    <option value="null">&lt;choose PD/LGD&gt;</option>
                    <option value="PD">PD</option>
                    <option value="LGD">LGD</option>
                </select></td>
                <td><input
                        id="percent" type="text" size="14" value="&lt;enter percent +/-&gt;"/>%
                </td>
                <td><select id="dimension">
                    <option value="null">&lt;choose Dimension&gt;</option>
                    <option value="Asset Class">Asset Class</option>
                    <option value="Pool ID">Pool ID</option>
                    <option value="Product">Product</option>
                    <option value="Geography">Geography</option>
                </select></td>
                <td><select id="filter">
                    <option value="null">&lt;choose Filter&gt;</option>
                    <option value="Asset Class">Asset Class</option>
                    <option value="Pool ID">Pool ID</option>
                    <option value="Product">Product</option>
                    <option value="Geography">Geography</option>
                </select></td>
            </tr>
        </table>
        <input type="button" value="ADD/EDIT" onclick="add()"/> <label id="addmsg" size="30"></label>
    </div>
    <div id="main">
        <div id="tablecontent">
            <table>
                <tr>
                    <td width="100px">PD/LGD</td>
                    <td width="100px">Percent</td>
                    <td width="200px">Dimension</td>
                    <td width="200px">Filter</td>
                    <td width="100px"></td>
                    <td width="100px"></td>
                </tr>
            </table>
        </div>
    </div>
</div>


</body>

</html>
<SCRIPT LANGUAGE="JavaScript">
    <!--
    function add() {
        var scenario = document.getElementById('scenario').value;
        var sequence = document.getElementById('sequence').value;
        var pdlgd = document.getElementById('pdlgd').value;
        var percent = document.getElementById('percent').value;
        var dimension = document.getElementById('dimension').value;
        var filter = document.getElementById('filter').value;
        var sensitivity = scenario + "`|`"+sequence+"`|`" + pdlgd + "`|`" + percent + "`|`" + dimension + "`|`" + filter;
        alert(sensitivity);
        Sensitivity.add(sensitivity, callbackresult);

    }
    function callbackresult(msg) {
        alert(msg);
        dwr.util.setValue('addmsg', msg);
        Sensitivity.flush("", flushcallback);
    }
    function flushcallback(msg) {
        //alert(msg);
        document.getElementById("tablecontent").innerHTML=msg;
    }

    function edit(msg) {
        alert(msg);
        //document.getElementById("tablecontent").innerHTML=msg;
    }
    function del(msg) {
        //var del = scenario + "`|`"+sequence;
        alert(msg);
        Sensitivity.del(msg, delcallback);
        Sensitivity.flush("", flushcallback);
        //document.getElementById("tablecontent").innerHTML=msg;
    }

    -->
</SCRIPT>
